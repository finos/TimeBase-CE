Running QQL: select * from (binance union bitfinex union kraken) limit 10 offset 30
{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinancePackageHeader","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.030Z","currencyCode":999,"originalTimestamp":"2023-01-25T11:59:59.906Z","packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675113","matchId":"2558721679","price":"22598.1","sellerOrderId":"17777675095","size":"0.00179","isMarketMaker":false}]}
{"$type":"deltix.qsrv.hf.plugins.data.kraken.types.KrakenPackageHeader","symbol":"ETH/GBP","timestamp":"2023-01-25T12:00:00.033Z","currencyCode":999,"originalTimestamp":"2023-01-25T11:59:59.928Z","packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"1293.37","size":"0.34110808","action":"UPDATE","level":46,"side":"ASK"}]}
{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinancePackageHeader","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.033Z","currencyCode":999,"originalTimestamp":"2023-01-25T11:59:59.907Z","packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"12277448542","matchId":"1063700767","price":"1545.49","sellerOrderId":"12277447881","size":"0.0233","isMarketMaker":false}]}
{"$type":"deltix.qsrv.hf.plugins.data.bitfinex.types.BitfinexPackageHeader","symbol":"ETH/USD","timestamp":"2023-01-25T12:00:00.033Z","currencyCode":999,"packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"BITFINEX","numberOfOrders":1,"price":"1548.8","size":"7.26502618","action":"DELETE","level":27,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"BITFINEX","numberOfOrders":1,"price":"1553.9","size":"299.35","level":49,"side":"ASK"}]}
{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinancePackageHeader","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.033Z","currencyCode":999,"originalTimestamp":"2023-01-25T11:59:59.907Z","packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675084","matchId":"2558721680","price":"22598.97","sellerOrderId":"17777675115","size":"0.00009","isMarketMaker":false}]}
{"$type":"deltix.qsrv.hf.plugins.data.bitfinex.types.BitfinexPackageHeader","symbol":"ETH/USD","timestamp":"2023-01-25T12:00:00.033Z","currencyCode":999,"packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"BITFINEX","numberOfOrders":1,"price":"1553.9","size":"299.35","action":"DELETE","level":49,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"BITFINEX","numberOfOrders":1,"price":"1548.9","size":"7.26502618","level":27,"side":"ASK"}]}
{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinancePackageHeader","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.033Z","currencyCode":999,"originalTimestamp":"2023-01-25T11:59:59.907Z","packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675114","matchId":"2558721681","price":"22598.99","sellerOrderId":"17777675115","size":"0.00048","isMarketMaker":false}]}
{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinancePackageHeader","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.033Z","currencyCode":999,"originalTimestamp":"2023-01-25T11:59:59.908Z","packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675116","matchId":"2558721682","price":"22598.1","sellerOrderId":"17777675095","size":"0.00211","isMarketMaker":false}]}
{"$type":"deltix.qsrv.hf.plugins.data.kraken.types.KrakenPackageHeader","symbol":"ADA/USDT","timestamp":"2023-01-25T12:00:00.034Z","currencyCode":999,"originalTimestamp":"2023-01-25T11:59:59.929Z","packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"0.357136","size":"1351.49161697","action":"DELETE","level":25,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"0.361583","size":"112.24478343","level":49,"side":"ASK"}]}
{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinancePackageHeader","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.034Z","currencyCode":999,"originalTimestamp":"2023-01-25T11:59:59.908Z","packageType":"INCREMENTAL_UPDATE","entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"12277437797","matchId":"1063700768","price":"1545.5","sellerOrderId":"12277448543","size":"0.0098","isMarketMaker":false}]}
!END
Running QQL: select this.entries from (binance union bitfinex union kraken) limit 10 offset 30
{"$type":"QUERY7294033608161407469","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.030Z","this.entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675113","matchId":"2558721679","price":"22598.1","sellerOrderId":"17777675095","size":"0.00179","isMarketMaker":false}]}
{"$type":"QUERY7294033608161407469","symbol":"ETH/GBP","timestamp":"2023-01-25T12:00:00.033Z","this.entries":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"1293.37","size":"0.34110808","action":"UPDATE","level":46,"side":"ASK"}]}
{"$type":"QUERY7294033608161407469","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.033Z","this.entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"12277448542","matchId":"1063700767","price":"1545.49","sellerOrderId":"12277447881","size":"0.0233","isMarketMaker":false}]}
{"$type":"QUERY7294033608161407469","symbol":"ETH/USD","timestamp":"2023-01-25T12:00:00.033Z","this.entries":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"BITFINEX","numberOfOrders":1,"price":"1548.8","size":"7.26502618","action":"DELETE","level":27,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"BITFINEX","numberOfOrders":1,"price":"1553.9","size":"299.35","level":49,"side":"ASK"}]}
{"$type":"QUERY7294033608161407469","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.033Z","this.entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675084","matchId":"2558721680","price":"22598.97","sellerOrderId":"17777675115","size":"0.00009","isMarketMaker":false}]}
{"$type":"QUERY7294033608161407469","symbol":"ETH/USD","timestamp":"2023-01-25T12:00:00.033Z","this.entries":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"BITFINEX","numberOfOrders":1,"price":"1553.9","size":"299.35","action":"DELETE","level":49,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"BITFINEX","numberOfOrders":1,"price":"1548.9","size":"7.26502618","level":27,"side":"ASK"}]}
{"$type":"QUERY7294033608161407469","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.033Z","this.entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675114","matchId":"2558721681","price":"22598.99","sellerOrderId":"17777675115","size":"0.00048","isMarketMaker":false}]}
{"$type":"QUERY7294033608161407469","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.033Z","this.entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675116","matchId":"2558721682","price":"22598.1","sellerOrderId":"17777675095","size":"0.00211","isMarketMaker":false}]}
{"$type":"QUERY7294033608161407469","symbol":"ADA/USDT","timestamp":"2023-01-25T12:00:00.034Z","this.entries":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"0.357136","size":"1351.49161697","action":"DELETE","level":25,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"0.361583","size":"112.24478343","level":49,"side":"ASK"}]}
{"$type":"QUERY7294033608161407469","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.034Z","this.entries":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"12277437797","matchId":"1063700768","price":"1545.5","sellerOrderId":"12277448543","size":"0.0098","isMarketMaker":false}]}
!END
Running QQL: select this.entries[this is L1Entry][0].* from (binance union bitfinex union kraken) where this.entries[this is L1Entry][0] != null limit 10 offset 30
{"$type":"QUERY2184643268143286913","symbol":"BAT/BTC","timestamp":"2023-01-25T12:00:00.270Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"KRAKEN","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"0.00001064","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"9159.01544348","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"ASK"}
{"$type":"QUERY2184643268143286913","symbol":"BAT/BTC","timestamp":"2023-01-25T12:00:00.270Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"KRAKEN","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"0.00001063","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"499.85993102","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"ASK"}
{"$type":"QUERY2184643268143286913","symbol":"BAT/ETH","timestamp":"2023-01-25T12:00:00.285Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"KRAKEN","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"0.0001552","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"4167.28656313","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"BID"}
{"$type":"QUERY2184643268143286913","symbol":"ETH/BTC","timestamp":"2023-01-25T12:00:00.290Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"BINANCE","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"0.068397","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"17.101","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"ASK"}
{"$type":"QUERY2184643268143286913","symbol":"LUNA/USDT","timestamp":"2023-01-25T12:00:00.291Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"BINANCE","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"2.092","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"100","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"ASK"}
{"$type":"QUERY2184643268143286913","symbol":"SOL/USDT","timestamp":"2023-01-25T12:00:00.291Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"BINANCE","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"23.13","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"1748.46","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"BID"}
{"$type":"QUERY2184643268143286913","symbol":"BAT/BTC","timestamp":"2023-01-25T12:00:00.292Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"KRAKEN","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"0.00001061","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"7366.5450379","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"BID"}
{"$type":"QUERY2184643268143286913","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.292Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"BINANCE","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"22597.51","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"0.00047","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"BID"}
{"$type":"QUERY2184643268143286913","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.292Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"KRAKEN","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"1545.38","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"2.62","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"BID"}
{"$type":"QUERY2184643268143286913","symbol":"CHZ/USDT","timestamp":"2023-01-25T12:00:00.292Z","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].exchangeId":"BINANCE","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].price":"0.1333","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].size":"163616","this.entries[this is deltix.timebase.api.messages.universal.L1Entry][0].side":"BID"}
!END
Running QQL: select entry.* from (binance union bitfinex union kraken) array join  this.entries[this is L2EntryNew] as entry where packageType == PERIODICAL_SNAPSHOT and entry.level == 5 limit 10 offset 5
{"$type":"QUERY4429725735800620625","symbol":"EOS/EUR","timestamp":"2023-01-25T12:00:00.255Z","ENTRY.exchangeId":"KRAKEN","ENTRY.price":"0.9494","ENTRY.size":"4847.57798873","ENTRY.side":"ASK","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"BAT/ETH","timestamp":"2023-01-25T12:00:00.285Z","ENTRY.exchangeId":"KRAKEN","ENTRY.price":"0.0001545","ENTRY.size":"2381.49671559","ENTRY.side":"BID","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"BAT/ETH","timestamp":"2023-01-25T12:00:00.285Z","ENTRY.exchangeId":"KRAKEN","ENTRY.price":"0.0001561","ENTRY.size":"30817.82345306","ENTRY.side":"ASK","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"EOS/USDT","timestamp":"2023-01-25T12:00:00.294Z","ENTRY.exchangeId":"KRAKEN","ENTRY.price":"1.0288","ENTRY.size":"509.87323623","ENTRY.side":"BID","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"EOS/USDT","timestamp":"2023-01-25T12:00:00.294Z","ENTRY.exchangeId":"KRAKEN","ENTRY.price":"1.033","ENTRY.size":"530.88321","ENTRY.side":"ASK","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"ETH/EUR","timestamp":"2023-01-25T12:00:00.389Z","ENTRY.exchangeId":"BINANCE","ENTRY.price":"1423.24","ENTRY.size":"1.3174","ENTRY.side":"BID","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"ETH/EUR","timestamp":"2023-01-25T12:00:00.389Z","ENTRY.exchangeId":"BINANCE","ENTRY.price":"1424.03","ENTRY.size":"1.5578","ENTRY.side":"ASK","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"ETC/USD","timestamp":"2023-01-25T12:00:00.412Z","ENTRY.exchangeId":"BITFINEX","ENTRY.numberOfOrders":2,"ENTRY.price":"21.063","ENTRY.size":"17.1716192","ENTRY.side":"BID","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"ETC/USD","timestamp":"2023-01-25T12:00:00.412Z","ENTRY.exchangeId":"BITFINEX","ENTRY.numberOfOrders":1,"ENTRY.price":"21.085","ENTRY.size":"5","ENTRY.side":"ASK","ENTRY.level":5}
{"$type":"QUERY4429725735800620625","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.443Z","ENTRY.exchangeId":"BITFINEX","ENTRY.numberOfOrders":5,"ENTRY.price":"1544.6","ENTRY.size":"11.56720405","ENTRY.side":"BID","ENTRY.level":5}
!END
Running QQL: with this.entries[this is L1Entry] as bbo select bbo_entry from (binance union bitfinex union kraken) array join bbo as bbo_entry limit 10 offset 30
{"$type":"QUERY1733226666981636010","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.189Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"22596.75","size":"0.03294","side":"BID"}}
{"$type":"QUERY1733226666981636010","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.189Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"22598.06","size":"0.02965","side":"ASK"}}
{"$type":"QUERY1733226666981636010","symbol":"MANA/BTC","timestamp":"2023-01-25T12:00:00.189Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"0.00002899","size":"342","side":"ASK"}}
{"$type":"QUERY1733226666981636010","symbol":"ETH/USD","timestamp":"2023-01-25T12:00:00.194Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"1545.7","size":"2.64","side":"BID"}}
{"$type":"QUERY1733226666981636010","symbol":"BTC/EUR","timestamp":"2023-01-25T12:00:00.222Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"20804.2","size":"0.21336391","side":"BID"}}
{"$type":"QUERY1733226666981636010","symbol":"BAT/BTC","timestamp":"2023-01-25T12:00:00.242Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"0.00001062","size":"3195.0842","side":"BID"}}
{"$type":"QUERY1733226666981636010","symbol":"XRP/BTC","timestamp":"2023-01-25T12:00:00.257Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BITFINEX","numberOfOrders":5,"price":"0.00001793","size":"10573.31039632","side":"BID"}}
{"$type":"QUERY1733226666981636010","symbol":"BAT/BTC","timestamp":"2023-01-25T12:00:00.270Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"0.00001064","size":"9159.01544348","side":"ASK"}}
{"$type":"QUERY1733226666981636010","symbol":"BAT/BTC","timestamp":"2023-01-25T12:00:00.270Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"0.00001063","size":"499.85993102","side":"ASK"}}
{"$type":"QUERY1733226666981636010","symbol":"BAT/ETH","timestamp":"2023-01-25T12:00:00.285Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"0.0001552","size":"4167.28656313","side":"BID"}}
!END
Running QQL: select BinancePackageHeader:entries as e1, KrakenPackageHeader:entries as e2 from (binance union bitfinex union kraken) where e1 != null or e2 != null
{"$type":"QUERY57889666744382022","symbol":"BAT/USD","timestamp":"2023-01-25T12:00:00.000Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"0.24012","size":"10411.20078625","action":"DELETE","level":0,"side":"BID"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"0.182","size":"600","level":49,"side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"BAT/USD","timestamp":"2023-01-25T12:00:00.000Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"0.24004","size":"20829.61165301","side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"BAT/USD","timestamp":"2023-01-25T12:00:00.000Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"0.24004","size":"20829.61165301","action":"DELETE","level":0,"side":"BID"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"0.18001","size":"555.52468999","level":49,"side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"BAT/USD","timestamp":"2023-01-25T12:00:00.000Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"0.24","size":"87.37051997","side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"BAT/USD","timestamp":"2023-01-25T12:00:00.004Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"0.23987","size":"41554","action":"UPDATE","level":2,"side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.006Z","E1":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"12277437797","matchId":"1063700760","price":"1545.5","sellerOrderId":"12277448530","size":"0.0188","isMarketMaker":false}]}
{"$type":"QUERY57889666744382022","symbol":"LINK/USD","timestamp":"2023-01-25T12:00:00.006Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"6.66748","size":"12990","action":"DELETE","level":49,"side":"BID"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"6.68057","size":"229.68903645","level":39,"side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"LINK/USD","timestamp":"2023-01-25T12:00:00.006Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"6.72261","size":"14.02386424","action":"DELETE","level":49,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"6.71497","size":"229.68903645","level":39,"side":"ASK"}]}
{"$type":"QUERY57889666744382022","symbol":"ETC/USD","timestamp":"2023-01-25T12:00:00.006Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"21.126","size":"152.8254","action":"UPDATE","level":7,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"21.124","size":"343.116114","action":"UPDATE","level":6,"side":"ASK"}]}
{"$type":"QUERY57889666744382022","symbol":"LTC/USD","timestamp":"2023-01-25T12:00:00.006Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"87.38","size":"98.56591005","action":"UPDATE","level":14,"side":"ASK"}]}
{"$type":"QUERY57889666744382022","symbol":"LTC/USD","timestamp":"2023-01-25T12:00:00.006Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"87","size":"48.45238747","action":"UPDATE","level":15,"side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"BAT/USD","timestamp":"2023-01-25T12:00:00.010Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"0.18001","size":"555.52468999","action":"DELETE","level":49,"side":"BID"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"0.24005","size":"10414.47721661","level":0,"side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"BAT/USD","timestamp":"2023-01-25T12:00:00.010Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"0.24005","size":"10414.47721661","side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"BAT/USD","timestamp":"2023-01-25T12:00:00.010Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"0.182","size":"600","action":"DELETE","level":49,"side":"BID"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"0.23951","size":"20875.12438149","level":10,"side":"BID"}]}
{"$type":"QUERY57889666744382022","symbol":"BTC/EUR","timestamp":"2023-01-25T12:00:00.010Z","E2":[{"$type":"deltix.timebase.api.messages.universal.L2EntryUpdate","exchangeId":"KRAKEN","price":"20844","size":"1.93564327","action":"DELETE","level":49,"side":"ASK"},{"$type":"deltix.timebase.api.messages.universal.L2EntryNew","exchangeId":"KRAKEN","price":"20832.7","size":"0.77326556","level":39,"side":"ASK"}]}
{"$type":"QUERY57889666744382022","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.011Z","E1":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"12277437797","matchId":"1063700761","price":"1545.5","sellerOrderId":"12277448531","size":"0.0172","isMarketMaker":false}]}
{"$type":"QUERY57889666744382022","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.013Z","E1":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777674992","matchId":"2558721672","price":"22598.91","sellerOrderId":"17777675105","size":"0.00127","isMarketMaker":false}]}
{"$type":"QUERY57889666744382022","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.014Z","E1":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"12277437797","matchId":"1063700762","price":"1545.5","sellerOrderId":"12277448533","size":"0.0204","isMarketMaker":false}]}
{"$type":"QUERY57889666744382022","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.014Z","E1":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"17777675068","matchId":"2558721673","price":"22598.91","sellerOrderId":"17777675105","size":"0.00007","isMarketMaker":false}]}
{"$type":"QUERY57889666744382022","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.016Z","E1":[{"$type":"deltix.qsrv.hf.plugins.data.binance.types.BinanceTradeEntry","exchangeId":"BINANCE","buyerOrderId":"12277448534","matchId":"1063700763","price":"1545.49","sellerOrderId":"12277447881","size":"0.0308","isMarketMaker":false}]}
!END
Running QQL: select l2.level, count{}() from (binance union bitfinex union kraken) array join this.entries[this is L2EntryNew] as l2 where symbol == 'BTC/USD' and l2.level < 5 group by l2.level
{"$type":"QUERY-447417430019097113","symbol":"BTC/USD","timestamp":"2023-01-25T12:00:27.359Z","L2.level":0,"COUNT{}()":13}
{"$type":"QUERY-447417430019097113","symbol":"BTC/USD","timestamp":"2023-01-25T12:00:27.359Z","L2.level":1,"COUNT{}()":27}
{"$type":"QUERY-447417430019097113","symbol":"BTC/USD","timestamp":"2023-01-25T12:00:29.836Z","L2.level":2,"COUNT{}()":25}
{"$type":"QUERY-447417430019097113","symbol":"BTC/USD","timestamp":"2023-01-25T12:00:27.359Z","L2.level":3,"COUNT{}()":17}
{"$type":"QUERY-447417430019097113","symbol":"BTC/USD","timestamp":"2023-01-25T12:00:27.359Z","L2.level":4,"COUNT{}()":15}
!END
Running QQL: with this.entries[this is L1Entry] as array(L1Entry) as bbo select bbo_entry type t from (binance union bitfinex) array join bbo as bbo_entry limit 10 offset 20 union with this.entries[this is L1Entry] as array(L1Entry) as bbo select bbo[0] as bbo_entry type t from kraken where size(bbo) > 0 limit 10 offset 30
{"$type":"T","symbol":"XRP/BTC","timestamp":"2023-01-25T12:00:00.257Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BITFINEX","numberOfOrders":5,"price":"0.00001793","size":"10573.31039632","side":"BID"}}
{"$type":"T","symbol":"ETH/BTC","timestamp":"2023-01-25T12:00:00.290Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"0.068397","size":"17.101","side":"ASK"}}
{"$type":"T","symbol":"LUNA/USDT","timestamp":"2023-01-25T12:00:00.291Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"2.092","size":"100","side":"ASK"}}
{"$type":"T","symbol":"SOL/USDT","timestamp":"2023-01-25T12:00:00.291Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"23.13","size":"1748.46","side":"BID"}}
{"$type":"T","symbol":"SOL/USDT","timestamp":"2023-01-25T12:00:00.291Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"23.14","size":"1205.43","side":"ASK"}}
{"$type":"T","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.292Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"22597.51","size":"0.00047","side":"BID"}}
{"$type":"T","symbol":"BTC/USDT","timestamp":"2023-01-25T12:00:00.292Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"22598.02","size":"0.02204","side":"ASK"}}
{"$type":"T","symbol":"CHZ/USDT","timestamp":"2023-01-25T12:00:00.292Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"0.1333","size":"163616","side":"BID"}}
{"$type":"T","symbol":"BTC/EUR","timestamp":"2023-01-25T12:00:00.292Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"20814.02","size":"0.00405","side":"BID"}}
{"$type":"T","symbol":"LINK/USDT","timestamp":"2023-01-25T12:00:00.380Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"6.69996","size":"78.38963018","side":"ASK"}}
{"$type":"T","symbol":"LINK/USDT","timestamp":"2023-01-25T12:00:00.380Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"6.69491","size":"9","side":"BID"}}
{"$type":"T","symbol":"BTC/USD","timestamp":"2023-01-25T12:00:00.388Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"22592.2","size":"12.22037842","side":"BID"}}
{"$type":"T","symbol":"ETH/BTC","timestamp":"2023-01-25T12:00:00.389Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"BINANCE","price":"0.068397","size":"23.7024","side":"ASK"}}
{"$type":"T","symbol":"BTC/USD","timestamp":"2023-01-25T12:00:00.389Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"22592.2","size":"11.44886132","side":"BID"}}
{"$type":"T","symbol":"BTC/USD","timestamp":"2023-01-25T12:00:00.389Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"22592.2","size":"10.34654457","side":"BID"}}
{"$type":"T","symbol":"ETH/USDT","timestamp":"2023-01-25T12:00:00.390Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"1545.38","size":"0.82","side":"BID"}}
{"$type":"T","symbol":"LINK/USDT","timestamp":"2023-01-25T12:00:00.404Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"6.69955","size":"21.6","side":"ASK"}}
{"$type":"T","symbol":"LINK/USDT","timestamp":"2023-01-25T12:00:00.407Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"6.69948","size":"78.39055779","side":"ASK"}}
{"$type":"T","symbol":"EOS/EUR","timestamp":"2023-01-25T12:00:00.408Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"0.9481","size":"3397.36762469","side":"BID"}}
{"$type":"T","symbol":"LINK/USDT","timestamp":"2023-01-25T12:00:00.415Z","BBO_ENTRY":{"$type":"deltix.timebase.api.messages.universal.L1Entry","exchangeId":"KRAKEN","price":"6.69178","size":"96.50924195","side":"BID"}}
!END
